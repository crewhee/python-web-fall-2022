## Формулировка домашнего задания
Подготовить бизнес сценарий в котором вам нужна распределенная база данных. Рассмотреть 3 СУБД, выделить их плюсы и минусы, принять решение какая СУБД подойдет в вашем случае лучше всего и почему.

## Бизнес-идея:
Приложение для поиска потерявшихся домашних животных. Даются объявления о найденных/потеряных животных, их может посмотреть человек в радиусе X километров.

Откуда необходимость к распределенности? Будем считать, что проект пользуется популярностью и у него _очень_ много пользователей.

## Требования к БД:
1. Возможность быстрой работы с геоданными
2. Малое время обработки запроса
3. Согласованность данных менее принципиальна
4. Примерно понятно, как произвести шардинг записей (по географическим координатам сервера, так как при обычном сценарии использования пользователя интересуют записи о событиях рядом с ним)


## Рассмотренные базы:
Реляционные, Объектные, Графовые

1. PostGIS (расширение PostgreSQL) / raw PostgreSQL с GIST-индексами (обычные B-деревья не подходят для запросов по географическим данным)
   1. Преимущества
      * Open-Source
      * Знакомый стек
      * Структура данных хорошо подходит под реляционные БД
   2. Недостатки
      * PostgreSQL не очень подходит для организации распределенных систем (Но существует большое количество сторонних решений) (а так же уже появился нативный шардинг)
      * Судя по статье – производительность (но у меня есть большие сомнения в методике измерений, слишком существенный проигрыш)
 1. MongoDB (с использованием GeoJSON)
    1. Преимущества
       * Sharding из коробки
       * Индексы для географических данных из коробки
    2. Недостатки
       * Незнакомый стек (да, это важно)
 2. Neo4j
    1. Преимущества
       * Тоже имеет решения для Spatial-запросов
       * Sharding из коробки
    2. Недостатки
       * Максимально незнакомый стек
       * Для интеграции с FastAPI приходится использовать сторонние решения


## Итоговый выбор:
Если проект разрабатывается мной в одиночку, и основная цель - предоставить MVP, то PostGIS/PostgreSQL, в силу знакомого стека технологий. Возможные сложности с распределенностью решаемы благодаря крупному сообществу.

Если проект разрабатывается в команде (и, в идеале, в команде есть знакомые с MongoDB разработчики), и цель - сразу сделать приложение, которое будет хорошо масштабироваться, то выбор – MongoDB.


## Материалы
1. agarwal, sarthak and Rajan, KS (2015) "Performance Analysis of MongoDB Vs. PostGIS/PostGreSQL Databases For Line Intersection and Point Containment Spatial Queries," Free and Open Source Software for Geospatial (FOSS4G) Conference Proceedings: Vol. 15 , Article 50.
DOI: https://doi.org/10.7275/R5MG7MQG
Available at: https://scholarworks.umass.edu/foss4g/vol15/iss1/50
